<!DOCTYPE html>
<html>
  <head>
    <title>Git and her friends - CCM Coding Camp, ICB, 11.12.2017</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style type="text/css">
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
    </style>
  </head>
  <body>
    <textarea id="source">

class: center, middle
<!--  BEGIN SLIDES -->

# Git and her friends

--- a basic introduction

### Daniel Weindl 

### CCM Coding Camp, ICB, 11.12.2017


---


# Agenda

1. Version control systems
2. Git vs. Git(hub|lab)
3. Basic usage
4. Practical considerations
5. "Advanced" features
6. Further reading


---


# Versioning

.center[![PhD Comics: A story told in filenames](http://phdcomics.com/comics/archive/phd052810s.gif)]


---


# Version control systems (VCS)

**centralized**
- svn (https://subversion.apache.org/)
- cvs

<img src="https://git-scm.com/images/about/workflow-a@2x.png" alt="centralized workflow" width="30%" />

**distributed**
- git (https://git-scm.com/)
- mercurial (https://www.mercurial-scm.org/)

<img src="https://git-scm.com/images/about/workflow-b@2x.png" alt="integration manager workflow" width="40%" /> 


---


# VCS features

- versioning
- branching
- merging
- synchronisation
- unique IDs
- history
- ...


---


# Git, github, gitlab, ...?

- Github (https://github.com/)
- Gitlab (https://about.gitlab.com/)
- Bitbucket (https://bitbucket.org/)


Researchers can get a free github subscription for 2 years (renewable): https://education.github.com/
(+extra bonuses for students)


---


# What git(hub|lab) provides in addition to git

- Hosting
- Pull-/merge-requests
- Web-gui
- Issue tracking 
- Milestones
- Access control
- (Simple) integrations (e.g. for CI/CD)
- Code reviews
- Releases
- Statistics, graphs
- Wiki
- ...


---


# Using git

Various interfaces exist:

- `git`
- `gitk`
- `git-gui`
- GitWeb
- git(lab|hub)
- IDE integrations
- ...


---


# Hands-on: Getting the slides

`$ git clone https://github.com/dweindl/git-and-friends.git`

```
Cloning into 'git-and-friends'...
remote: Counting objects: 3, done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 3 (delta 0), reused 3 (delta 0), pack-reused 0
Unpacking objects: 100% (3/3), done.
```

-> Now you have a clone of the whole repository including all history and branches on your local machine


---


# Creating a repository

How the above repository was created:

```
$ git init
Initialized empty Git repository in /home/dweindl/Downloads/ccm_versioning_intro/.git/

$ git add versioning_intro.html
$ git commit -m "Initial commit"

[master (root-commit) 6e88cfb] Initial commit
 1 file changed, 219 insertions(+)
 create mode 100644 versioning_intro.html

$ git remote add origin git@github.com:dweindl/git-and-friends.git
$ git push -u origin master

Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 2.03 KiB | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
To github.com:dweindl/git-and-friends.git
 * [new branch]      master -> master
Branch master set up to track remote branch master from origin.
```


---


# Hands on: Create your own repository

Setting up git:

`$ git config --global user.name "Daniel Weindl"`

`$ git config --global user.email "daniel.weindl@helmholtz-muenchen.de"`

- Create a repository on github
- Clone the remote repository 
- or initialize a local one and push to github



---


# Git basics

<img src="https://git-scm.com/images/about/index1@2x.png" style="width:50%" alt="working directory, staging area, repository">

# TODO: 
- commits, tags, messages
- branches
- file hash, commit hash
- `.git`


---


# Git

### What git is (for)

- scalable versioning of any kind of text files
- light-weight branching and merging
- collaborative (parallel) editing
- extendable, customizable
- fun to use

### What git is not (for)

- binary files
- large files (see *Further reading*)


---


# Hands-on: Branching and github pull-requests

On https://github.com/dweindl/git-and-friends, create an issue so I can see your user name and add you as collaborator to get push access

In the slide-repository:
- Create a new branch<br/>
  `$ git checkout -b test-yourname`
- Add your name to `participants.md`
- Commit your changed with a commit message<br/>
  `$ git commit -m "Add my name" participants.md`
- Push your changes to github<br/>
  `$ git push -u test-yourname origin`
- Create a pull request on https://github.com/dweindl/git-and-friends
- Merge
- Delete the merged branch
- Checkout master `$ git checkout master` 
- Pull the changes from the remote repository `$ git pull`
- Look at the history on github or using `$ git whatchanged`

Alternatively: Find some type in the slides, open an issue describing it, correct it and create a pull request


---


# Every day advice

- commit early, commit often
- make small commits
- `.gitignore` (Templates: https://github.com/github/gitignore) 
- commit message: 'closes #' , 'fixes #' 

## Collaborative work?
- agree on a branching model
- `master` branch should always work
- protect master
- code reviews are very valuable
- and so is automated testing
- commit, push, merge often
- `git blame`
- git flow, gitlab flow, package
- don't change published history (git rebase)
https://docs.gitlab.com/ce/workflow/gitlab_flow.html


---


# Gitlab DOs and DONTs

## Do

- Choose a licencse for public repos
- Add a README file

## Don't

- put confidential data or passwords into public repos


---


# "Advanced" features


### git
- rebasing, tags, ...
- managing repository dependencies<br/>
  `git submodule`, `git subtree`, `git subrepo`
- git hooks for automated actions on `commit`, `pull`, ...
 

### github/gitlab

- integrations and web hooks
  - Continuous integration
  - Continuous delivery
  - Test coverage
  
  e.g. Travis-CI, Shippable, AppVeyor, Coveralls, ...

- code reviews


---


# Further reading (I)

- `$ man git`
- Another introduction to git<br/>
  - https://try.github.io/
  - https://guides.github.com/activities/hello-world/
  - http://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1004668
- Pro git book<br/> https://git-scm.com/book/en/v2
- RStudio git integration<br/> http://r-bio.github.io/intro-git-rstudio/
- Eclipse git integration<br/> http://www.vogella.com/tutorials/EclipseGit/article.html
- Git extension for dealing with dependencies<br/>https://github.com/git-commands/git-subrepo
- Semantic versioning<br/>https://semver.org/


---


# Further reading (II)
- Useful github integrations
    - CI https://travis-ci.org/
    - CI https://app.shippable.com/
    - DOIs for your releases https://guides.github.com/activities/citable-code/
- (One of many) Cheatsheets</br> https://zeroturnaround.com/rebellabs/git-commands-and-best-practices-cheat-sheet/
- Handling large files</br>
  https://git-lfs.github.com/

  
<!--  END SLIDES -->
  
  </textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js" type="text/javascript">
    </script>
    <script type="text/javascript">
      var slideshow = remark.create();
    </script>
  </body>
</html>
